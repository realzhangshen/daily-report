provider:
  name: gemini
  model: gemini-3-flash-preview
  google_api_key_env: GOOGLE_API_KEY
  base_url: https://generativelanguage.googleapis.com
  # api_key: ""  # optional inline override
  trust_env: true
fetch:
  backend: crawl4ai  # Options: httpx, crawl4ai (JS rendering), curl_cffi (bypasses Cloudflare)
  fallback_to_httpx: true  # Keep fallback for static sites
  crawl4ai_concurrency: 4
  timeout_seconds: 20
  retries: 2
  trust_env: true
  user_agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36
  # Anti-bot detection options (helps with Cloudflare-protected sites like Product Hunt)
  crawl4ai_stealth: true  # Enable stealth mode to bypass bot detection
  crawl4ai_delay: 2.0  # Delay before returning HTML (allows challenges to complete)
  crawl4ai_simulate_user: true  # Simulate user behavior for anti-bot
  crawl4ai_magic: true  # Enable anti-detection "magic" mode
extract:
  primary: trafilatura
  fallback: [readability, bs4]
dedup:
  enabled: true
  title_similarity_threshold: 92
summary:
  bullets_min: 3
  bullets_max: 6
  max_chars: 12000
grouping:
  method: provider
  fallback: site
output:
  format: html
  include_markdown: false
  run_folder_mode: input
logging:
  level: INFO
  console: true
  file: true
  format: jsonl
  filename: run.jsonl
  llm_log_enabled: true
  llm_log_detail: response_only
  llm_log_redaction: redact_urls_authors
  llm_log_file: llm.jsonl
langfuse:
  enabled: false
  public_key:
  secret_key:
  host:
  environment:
  release:
  redaction: redact_urls_authors
  max_text_chars: 20000
cache:
  mode: run  # Options: run, shared (shared still uses old structure)
  ttl_days: null  # Cache TTL in days, null = no expiration
  # Note: Cache is now organized as articles/{slug}-{hash}/
  # with fetched.html, extracted.txt, llm_summary.json, llm_debug.jsonl
  shared_dir: null
  write_index: false
  index_filename: "index.jsonl"
